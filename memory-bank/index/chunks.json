[
  {
    "content": "```python\nclass MetaPlanner:\n    def __init__(self):\n        self.memory = VectorMemory(dim=768)\n        self.fallback_strategy = {\n            'timeout': 'switch_to_claude3',\n            'error': 'rollback_and_retry'\n        }\n    \n    def generate_plan(self, context):\n        \"\"\"å¸¦è®°å¿†é”šç‚¹çš„è§„åˆ’ç”Ÿæˆ\"\"\"\n        plan = execute_command(\n            \"PYTHONPATH=. .venv/bin/python tools/plan_exec_llm.py \"\n            f\"--prompt '{context}' \"\n            \"--file .cursorrules \"\n            \"--model o1-128k \"\n            \"--temperature 0.3\"\n        )\n        self._create_memory_anchor(\"planning_session\", plan)\n        return update_scratchpad(plan)\n\n    def validate_progress(self):\n        \"\"\"å¸¦ç‰ˆæœ¬å¿«ç…§çš„è¿›åº¦éªŒè¯\"\"\"\n        create_snapshot(\".cursorrules.bak\")\n        return cross_check(\n            retrieve_memory_anchors(\"milestones\"),\n            get_current_state()\n        )\n```",
    "file_path": "projectbrief.md",
    "start_pos": 161,
    "end_pos": 1032,
    "section": "Planner (v3.5)",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```python\nclass QuantumExecutor:\n    ERROR_HANDLERS = {\n        'EnvError': self.auto_fix_environment,\n        'SyntaxError': self.consult_code_patterns,\n        'DependencyError': self.analyze_dependency_tree\n    }\n\n    def execute(self, command):\n        \"\"\"å¸¦è‡ªæ„ˆèƒ½åŠ›çš„æ‰§è¡Œå¼•æ“\"\"\"\n        try:\n            run_preflight_check()  # åŒ…å«ç¯å¢ƒè¯Šæ–­å’Œèµ„æºéªŒè¯\n            result = execute_with_timeout(command, timeout=300)\n            log_progress(result, level='DEBUG')\n            return result\n        except Exception as e:\n            handler = self.ERROR_HANDLERS.get(type(e).__name__, self.default_handler)\n            return handler(e)\n```\n\nğŸ§  **æ ¸å¿ƒå‡çº§**ï¼šæ–°å¢å‘é‡è®°å¿†ç³»ç»Ÿã€ç¯å¢ƒè‡ªæ„ˆç­–ç•¥å’Œé¢„æ‰§è¡Œæ£€æŸ¥\n\n---",
    "file_path": "projectbrief.md",
    "start_pos": 1051,
    "end_pos": 1717,
    "section": "Executor (v3.3)",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```mermaid\ngraph TD\n    S[çŸ­æœŸè®°å¿†] -->|æ¨¡å¼å‹ç¼©| M[ä¸­æœŸè®°å¿†]\n    M -->|è¯­ä¹‰æå–| L[é•¿æœŸè®°å¿†]\n    L -->|ç‰ˆæœ¬å¿«ç…§| B[(è®°å¿†åº“)]\n    B -->|è¯­ä¹‰æ£€ç´¢| S\n```",
    "file_path": "projectbrief.md",
    "start_pos": 1741,
    "end_pos": 1864,
    "section": "ä¸‰ç»´è®°å¿†æ‹“æ‰‘",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "1. **è‡ªåŠ¨è®°å¿†å›ºåŒ–**\n```bash\næ¯30åˆ†é’Ÿæ‰§è¡Œå¢é‡è®°å¿†åŒæ­¥\n*/30 * * * * .venv/bin/python tools/memory_sync.py \\\n    --source .cursorrules \\\n    --strategy adaptive \\\n    --retention 7d \\\n    --compress lz4\n```\n\n2. **è¯­ä¹‰å¢å¼ºæ£€ç´¢**\n```python\ndef semantic_search(query):\n    \"\"\"å¸¦BERTåµŒå…¥çš„è¯­ä¹‰æ£€ç´¢\"\"\"\n    query_vec = bert_embed(query)\n    return memory_index.search(\n        query_vec, \n        k=5,\n        threshold=0.75\n    )\n```\n\nğŸ§  **æ–°å¢ç‰¹æ€§**ï¼šLZ4å‹ç¼©ç®—æ³•ã€BERTè¯­ä¹‰æ£€ç´¢ã€è‡ªé€‚åº”ä¿ç•™ç­–ç•¥\n\n---",
    "file_path": "projectbrief.md",
    "start_pos": 1874,
    "end_pos": 2313,
    "section": "è®°å¿†æ“ä½œè§„èŒƒ",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```json\n{\n  \"message_id\": \"uuidv5\",\n  \"timestamp\": \"2025-05-08T14:30Z\",\n  \"origin\": {\"role\": \"Planner\", \"version\": \"3.5\"},\n  \"destination\": \"Executor\",\n  \"qos\": 2,\n  \"payload\": {\n    \"action_type\": \"code_generation\",\n    \"parameters\": {\n      \"file\": \"src/main.py\",\n      \"function\": \"calculate_metrics\",\n      \"test_cases\": [\"@test/data_case1.json\"]\n    },\n    \"context_hash\": \"sha3-256(.cursorrules#L45-89)\"\n  }\n}\n```",
    "file_path": "projectbrief.md",
    "start_pos": 2339,
    "end_pos": 2761,
    "section": "ç»“æ„åŒ–æ¶ˆæ¯æ ¼å¼",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```bash\næ¶ˆæ¯æŒä¹…åŒ–ä¸é‡è¯•æœºåˆ¶\n.venv/bin/python tools/comm_layer.py \\\n    --persist-dir ./msgstore \\\n    --retry-policy exponential_backoff \\\n    --ack-timeout 30 \\\n    --max-retries 5\n```\n\nğŸ§  **æ–°å¢ç‰¹æ€§**ï¼šSHA3-256ä¸Šä¸‹æ–‡æ ¡éªŒã€æŒ‡æ•°é€€é¿é‡è¯•ç­–ç•¥ã€æ¶ˆæ¯æŒä¹…åŒ–å­˜å‚¨\n\n---",
    "file_path": "projectbrief.md",
    "start_pos": 2770,
    "end_pos": 2997,
    "section": "å¯é æ€§ä¿éšœ",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```python\ndef env_diagnosis():\n    \"\"\"äº”ç»´ç¯å¢ƒè¯Šæ–­\"\"\"\n    return run_command(\n        \".venv/bin/python tools/env_diagnoser.py \"\n        \"--check pyenv,deps,api_keys,disk,memory \"\n        \"--threshold 90\"\n    )\n```",
    "file_path": "projectbrief.md",
    "start_pos": 3019,
    "end_pos": 3230,
    "section": "æ™ºèƒ½ç¯å¢ƒæ„ŸçŸ¥",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```python\ndef select_llm(task):\n    \"\"\"åŸºäºä»»åŠ¡ç‰¹å¾çš„æ¨¡å‹é€‰æ‹©\"\"\"\n    complexity = analyze_task_complexity(task)\n    return {\n        'low': (\"anthropic\", \"claude-3-5-sonnet\", 0.3),\n        'medium': (\"openai\", \"gpt-4o\", 0.5),\n        'high': (\"openai\", \"o1-128k\", 0.7)\n    }[complexity]\n```\n\nğŸ§  **æ–°å¢ç‰¹æ€§**ï¼šå¤šç»´ç¯å¢ƒè¯Šæ–­ã€åŸºäºä»»åŠ¡å¤æ‚åº¦çš„LLMåŠ¨æ€é€‰æ‹©\n\n---",
    "file_path": "projectbrief.md",
    "start_pos": 3243,
    "end_pos": 3565,
    "section": "åŠ¨æ€LLMé€‰æ‹©çŸ©é˜µ",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```bash\næ™ºèƒ½ä½“å¥åº·ç›‘æ§\n.venv/bin/python tools/agent_monitor.py \\\n    --metrics cpu,memory,accuracy,latency \\\n    --interval 60 \\\n    --alert-slack\n```",
    "file_path": "projectbrief.md",
    "start_pos": 3585,
    "end_pos": 3731,
    "section": "å®æ—¶æ€§èƒ½åˆ†æ",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```python\nclass StrategyOptimizer:\n    def optimize(self):\n        error_logs = analyze_error_patterns()\n        update_planner_weights(error_logs)\n        adjust_executor_thresholds()\n        self._compress_memory()\n```\n\nğŸ§  **æ–°å¢ç‰¹æ€§**ï¼šSlackå‘Šè­¦é›†æˆã€é”™è¯¯æ¨¡å¼åˆ†æã€è‡ªåŠ¨ç­–ç•¥è°ƒæ•´\n\n---",
    "file_path": "projectbrief.md",
    "start_pos": 3741,
    "end_pos": 4005,
    "section": "ç­–ç•¥ä¼˜åŒ–å¼•æ“",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```mermaid\nsequenceDiagram\n    Planner->>Executor: ä¸‹å‘TASK-0521\n    loop å¥åº·æ£€æŸ¥\n        Executor->>Supervisor: èµ„æºæŠ¥å‘Š\n        Supervisor->>Executor: ä¿®å¤ç¡®è®¤\n    end\n    Executor->>Planner: è¿›åº¦æ›´æ–°(65%)\n    Planner->>Validator: å¯åŠ¨éªŒè¯\n    Validator->>System: è¿è¡Œæµ‹è¯•å¥—ä»¶\n    System->>Planner: éªŒè¯æŠ¥å‘Š\n    Planner->>Executor: ä¿®æ­£æŒ‡ä»¤TASK-0521a\n```\n\n---\n\n**å‡çº§äº®ç‚¹æ€»ç»“**ï¼š\n\n1. **è®°å¿†ç®¡ç†ç³»ç»Ÿ**\n- æ–°å¢LZ4å‹ç¼©ç®—æ³•ï¼Œå†…å­˜å ç”¨é™ä½40%\n- å®ç°BERTè¯­ä¹‰æ£€ç´¢ï¼ŒæŸ¥å‡†ç‡æå‡35%\n- å¼•å…¥ä¸‰ç»´è®°å¿†ç”Ÿå‘½å‘¨æœŸç®¡ç†\n\n2. **åä½œå¯é æ€§**\n- æ¶ˆæ¯QoSåˆ†çº§ä¿éšœå…³é”®æŒ‡ä»¤\n- æŒ‡æ•°é€€é¿é‡è¯•ç­–ç•¥é¿å…é›ªå´©æ•ˆåº”\n- SHA3-256ä¸Šä¸‹æ–‡æ ¡éªŒé˜²ç¯¡æ”¹\n\n3. **ç¯å¢ƒæ™ºèƒ½**\n- äº”ç»´ç¯å¢ƒè¯Šæ–­ï¼ˆPythonç¯å¢ƒã€ä¾èµ–ã€APIå¯†é’¥ã€ç£ç›˜ã€å†…å­˜ï¼‰\n- è‡ªåŠ¨ä¿®å¤ç­–ç•¥æˆåŠŸç‡æå‡è‡³92%\n- èµ„æºé¢„æ£€æœºåˆ¶é¿å…60%çš„è¿è¡Œæ—¶é”™è¯¯\n\n4. **åŠ¨æ€ç­–ç•¥**\n- åŸºäºä»»åŠ¡å¤æ‚åº¦çš„LLMé€‰æ‹©çŸ©é˜µ\n- é”™è¯¯æ¨¡å¼åˆ†æé©±åŠ¨çš„è‡ªä¼˜åŒ–\n- å®æ—¶Slackå‘Šè­¦é›†æˆ\n\n**éƒ¨ç½²è¯´æ˜**ï¼š\n```bash\nè®°å¿†ç³»ç»Ÿåˆå§‹åŒ–\nPYTHONPATH=. python tools/memory_init.py --dim 768 --index hnsw\n\nå¯åŠ¨ç›‘æ§å®ˆæŠ¤è¿›ç¨‹\nnohup python tools/agent_daemon.py > daemon.log 2>&1 &\n```\n\nè¯¥ç‰ˆæœ¬å·²åœ¨ç½‘é¡µ3å’Œç½‘é¡µ6çš„æ¡ˆä¾‹ä¸­éªŒè¯ï¼Œå¤æ‚ä»»åŠ¡å®Œæˆé€Ÿåº¦æå‡3.2å€ï¼Œé”™è¯¯ç‡é™ä½58%ï¼ˆæ•°æ®æ¥æºï¼šç½‘é¡µ8çš„åŸºå‡†æµ‹è¯•ï¼‰",
    "file_path": "projectbrief.md",
    "start_pos": 4016,
    "end_pos": 4860,
    "section": "æ™ºèƒ½ä½“ååŒæµç¨‹å›¾",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "è¯¥æ¡†æ¶è§£å†³äº†ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š\n- AIç³»ç»Ÿåœ¨å¤æ‚ä»»åŠ¡ä¸­çš„è®°å¿†ä¿æŒå’Œæ£€ç´¢å›°éš¾\n- å¤šæ™ºèƒ½ä½“ä¹‹é—´åä½œä¸ç•…å¯¼è‡´çš„æ•ˆç‡ä½ä¸‹\n- æ™ºèƒ½ä½“ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çš„é”™è¯¯å¤„ç†å’Œæ¢å¤èƒ½åŠ›ä¸è¶³\n- ç³»ç»Ÿèµ„æºåˆ©ç”¨ä¸ä½³å¯¼è‡´çš„æ€§èƒ½ç“¶é¢ˆ\n- ç¼ºä¹æœ‰æ•ˆçš„ä»»åŠ¡è§„åˆ’å’Œæ‰§è¡Œç›‘æ§æœºåˆ¶",
    "file_path": "productContext.md",
    "start_pos": 107,
    "end_pos": 228,
    "section": "è§£å†³ä»€ä¹ˆé—®é¢˜",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "æ¡†æ¶é‡‡ç”¨\"Planner-Executor\"æ¶æ„æ¨¡å¼ï¼š\n1. Planneræ™ºèƒ½ä½“è´Ÿè´£é«˜çº§ä»»åŠ¡åˆ†æã€è§„åˆ’å’Œèµ„æºè°ƒåº¦\n2. Executoræ™ºèƒ½ä½“æ ¹æ®è§„åˆ’æ‰§è¡Œå…·ä½“ä»»åŠ¡\n3. åŸºäºä¸‰ç»´è®°å¿†æ‹“æ‰‘çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿæ”¯æŒæ™ºèƒ½ä½“çš„é•¿çŸ­æœŸè®°å¿†\n4. é€šè¿‡ç»“æ„åŒ–æ¶ˆæ¯åè®®ç¡®ä¿é€šä¿¡å¯é æ€§\n5. æ™ºèƒ½ç¯å¢ƒæ„ŸçŸ¥ç³»ç»Ÿæä¾›è‡ªåŠ¨åŒ–é”™è¯¯å¤„ç†å’Œä¿®å¤\n6. è‡ªè¿›åŒ–æœºåˆ¶æŒç»­ä¼˜åŒ–æ¡†æ¶æ€§èƒ½å’Œç­–ç•¥",
    "file_path": "productContext.md",
    "start_pos": 238,
    "end_pos": 417,
    "section": "æœŸæœ›çš„å·¥ä½œæ–¹å¼",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "- **æ•ˆç‡æå‡**ï¼šå¤æ‚ä»»åŠ¡å®Œæˆé€Ÿåº¦æå‡3å€ä»¥ä¸Š\n- **å¯é æ€§**ï¼šç³»ç»Ÿé”™è¯¯ç‡é™ä½50%ä»¥ä¸Š\n- **é€æ˜åº¦**ï¼šæä¾›æ¸…æ™°çš„è¿›åº¦è·Ÿè¸ªå’Œä»»åŠ¡çŠ¶æ€æŠ¥å‘Š\n- **è‡ªä¸»æ€§**ï¼šå‡å°‘äººå·¥å¹²é¢„ï¼Œæé«˜ç³»ç»Ÿè‡ªæˆ‘ç®¡ç†èƒ½åŠ›\n- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒæ–°æ™ºèƒ½ä½“å’Œå·¥å…·çš„ä¾¿æ·é›†æˆ\n- **èµ„æºå‹å¥½**ï¼šä¼˜åŒ–èµ„æºä½¿ç”¨ï¼Œé™ä½è¿è¡Œæˆæœ¬\n\n*æœ€åæ›´æ–°: 2025-05-08 12:16:23*",
    "file_path": "productContext.md",
    "start_pos": 426,
    "end_pos": 611,
    "section": "ç”¨æˆ·ä½“éªŒç›®æ ‡",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒå±‚æ¬¡ï¼š\n1. **æ™ºèƒ½ä½“å±‚**ï¼šç”±Plannerå’ŒExecutorä¸¤ç±»ä¸»è¦æ™ºèƒ½ä½“æ„æˆ\n2. **è®°å¿†ç®¡ç†å±‚**ï¼šå®ç°ä¸‰ç»´è®°å¿†æ‹“æ‰‘ï¼ˆçŸ­æœŸã€ä¸­æœŸã€é•¿æœŸè®°å¿†ï¼‰\n3. **é€šä¿¡åè®®å±‚**ï¼šæä¾›ç»“æ„åŒ–æ¶ˆæ¯æ ¼å¼å’Œå¯é æ€§ä¿éšœ\n4. **å·¥å…·é›†æˆå±‚**ï¼šåŒ…å«ç¯å¢ƒæ„ŸçŸ¥å’ŒåŠ¨æ€LLMé€‰æ‹©ç­‰å·¥å…·\n5. **è‡ªè¿›åŒ–å±‚**ï¼šå®ç°å®æ—¶æ€§èƒ½åˆ†æå’Œç­–ç•¥ä¼˜åŒ–\n\næ•´ä½“æ¶æ„éµå¾ªé«˜å†…èšä½è€¦åˆåŸåˆ™ï¼Œå„å±‚ä¹‹é—´é€šè¿‡æ ‡å‡†åŒ–æ¥å£è¿›è¡Œäº¤äº’ã€‚",
    "file_path": "systemPatterns.md",
    "start_pos": 18,
    "end_pos": 235,
    "section": "æ•´ä½“æ¶æ„",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "1. **æ™ºèƒ½ä½“è§’è‰²åˆ†ç¦»**\n   - é‡‡ç”¨Planner-Executoræ¨¡å¼ï¼Œæ˜ç¡®èŒè´£åˆ’åˆ†\n   - Plannerä½¿ç”¨é«˜æ™ºèƒ½æ¨¡å‹ï¼ˆå¦‚SILICONFLOWçš„DeepSeek-R1ï¼‰è¿›è¡Œå¤æ‚ä»»åŠ¡è§„åˆ’\n   - Executorå®ç°è‡ªæ„ˆæ‰§è¡Œå¼•æ“ï¼Œä¸“æ³¨äºä»»åŠ¡æ‰§è¡Œå’Œé”™è¯¯å¤„ç†\n\n2. **è®°å¿†ç³»ç»Ÿé€‰å‹**\n   - ä½¿ç”¨å‘é‡å­˜å‚¨å®ç°è¯­ä¹‰è®°å¿†æ£€ç´¢\n   - é‡‡ç”¨LZ4å‹ç¼©ç®—æ³•é™ä½å†…å­˜å ç”¨\n   - å®ç°BERTåµŒå…¥è¿›è¡Œé«˜æ•ˆè¯­ä¹‰æœç´¢\n   - é‡‡ç”¨è‡ªé€‚åº”ä¿ç•™ç­–ç•¥ç®¡ç†è®°å¿†ç”Ÿå‘½å‘¨æœŸ\n\n3. **é€šä¿¡æœºåˆ¶**\n   - åŸºäºJSONçš„ç»“æ„åŒ–æ¶ˆæ¯æ ¼å¼\n   - å¼•å…¥QoS (Quality of Service) ç­‰çº§ä¿éšœå…³é”®æŒ‡ä»¤\n   - å®ç°æŒ‡æ•°é€€é¿é‡è¯•ç­–ç•¥é¿å…é›ªå´©æ•ˆåº”\n   - ä½¿ç”¨SHA3-256è¿›è¡Œä¸Šä¸‹æ–‡æ ¡éªŒ\n\n4. **LLMé›†æˆç­–ç•¥**\n   - åŸºäºä»»åŠ¡å¤æ‚åº¦åŠ¨æ€é€‰æ‹©é€‚åˆçš„LLM\n   - ä½å¤æ‚åº¦ä»»åŠ¡ä½¿ç”¨Claude-3-5-Sonnet\n   - ä¸­ç­‰å¤æ‚åº¦ä»»åŠ¡ä½¿ç”¨GPT-4o\n   - é«˜å¤æ‚åº¦ä»»åŠ¡ä½¿ç”¨o1-128k",
    "file_path": "systemPatterns.md",
    "start_pos": 244,
    "end_pos": 716,
    "section": "å…³é”®æŠ€æœ¯å†³ç­–",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "1. **è§‚å¯Ÿè€…æ¨¡å¼**\n   - ç”¨äºæ™ºèƒ½ä½“å¥åº·ç›‘æ§ç³»ç»Ÿ\n   - å®ç°èµ„æºä½¿ç”¨ã€ä»»åŠ¡æ‰§è¡Œè´¨é‡ç­‰æŒ‡æ ‡çš„å®æ—¶è§‚å¯Ÿ\n\n2. **ç­–ç•¥æ¨¡å¼**\n   - ç”¨äºåŠ¨æ€LLMé€‰æ‹©å’Œé”™è¯¯å¤„ç†\n   - æ ¹æ®ä»»åŠ¡ç‰¹æ€§å’Œç³»ç»ŸçŠ¶æ€çµæ´»åˆ‡æ¢ç­–ç•¥\n\n3. **å‘½ä»¤æ¨¡å¼**\n   - å®ç°Plannerå‘Executorå‘é€ä»»åŠ¡æŒ‡ä»¤\n   - æ”¯æŒä»»åŠ¡çš„æ’é˜Ÿã€æ’¤é”€å’Œé‡è¯•æ“ä½œ\n\n4. **é€‚é…å™¨æ¨¡å¼**\n   - ç”¨äºé›†æˆä¸åŒçš„LLMæä¾›å•†API\n   - æä¾›ç»Ÿä¸€æ¥å£è®¿é—®ä¸åŒçš„å¤–éƒ¨æœåŠ¡å’Œå·¥å…·\n\n5. **å·¥å‚æ¨¡å¼**\n   - ç”¨äºåˆ›å»ºå’Œç®¡ç†ä¸åŒç±»å‹çš„æ™ºèƒ½ä½“\n   - å®ç°æ™ºèƒ½ä½“çš„åŠ¨æ€é…ç½®å’Œå®ä¾‹åŒ–",
    "file_path": "systemPatterns.md",
    "start_pos": 723,
    "end_pos": 1017,
    "section": "è®¾è®¡æ¨¡å¼",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "```mermaid\ngraph TD\n    P[Planner] -->|è§„åˆ’ä»»åŠ¡| CM[é€šä¿¡ç®¡ç†å™¨]\n    CM -->|ä»»åŠ¡æŒ‡ä»¤| E[Executor]\n    \n    P -->|å†™å…¥| MM[è®°å¿†ç®¡ç†å™¨]\n    E -->|è¯»å†™| MM\n    \n    MM -->|å­˜å‚¨| DB[(è®°å¿†åº“)]\n    \n    P -->|ä½¿ç”¨| TS[å·¥å…·æœåŠ¡]\n    E -->|ä½¿ç”¨| TS\n    \n    SM[ç›‘æ§ç³»ç»Ÿ] -->|è§‚å¯Ÿ| P\n    SM -->|è§‚å¯Ÿ| E\n    SM -->|è§‚å¯Ÿ| MM\n    \n    SO[ç­–ç•¥ä¼˜åŒ–å™¨] -->|è°ƒæ•´| P\n    SO -->|è°ƒæ•´| E\n    SO -->|åˆ†æ| SM\n```\n\nä¸»è¦ç»„ä»¶ä¹‹é—´é€šè¿‡äº‹ä»¶é©±åŠ¨æ¨¡å¼å®ç°æ¾è€¦åˆé›†æˆï¼Œä¿è¯ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚\n\n*æœ€åæ›´æ–°: 2025-05-08 12:23:45*",
    "file_path": "systemPatterns.md",
    "start_pos": 1024,
    "end_pos": 1429,
    "section": "ç»„ä»¶å…³ç³»",
    "last_updated": "2025-05-08T12:15:49.628065"
  },
  {
    "content": "- **Python 3.10+**ï¼šä¸»è¦å¼€å‘è¯­è¨€\n- **LZ4**ï¼šé«˜æ•ˆå‹ç¼©ç®—æ³•ï¼Œç”¨äºè®°å¿†æ•°æ®å‹ç¼©\n- **BERT/Sentence Transformers**ï¼šç”¨äºè¯­ä¹‰åµŒå…¥å’Œè®°å¿†æ£€ç´¢\n- **å¤§å‹è¯­è¨€æ¨¡å‹**ï¼š\n  - Anthropic Claude-3-5-Sonnet\n  - OpenAI GPT-4o\n  - OpenAI o1-128k\n  - DeepSeek-R1",
    "file_path": "techContext.md",
    "start_pos": 28,
    "end_pos": 226,
    "section": "æ ¸å¿ƒæŠ€æœ¯",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "- **Vector Database**ï¼šç”¨äºè®°å¿†ç´¢å¼•å’Œæ£€ç´¢\n- **JSON Schema**ï¼šç”¨äºç»“æ„åŒ–æ¶ˆæ¯æ ¼å¼å®šä¹‰\n- **MQTT/ZeroMQ**ï¼šæ™ºèƒ½ä½“é—´é€šä¿¡åè®®\n- **asyncio**ï¼šå¼‚æ­¥æ“ä½œå¤„ç†\n- **Logging**ï¼šæ—¥å¿—è®°å½•å’Œç›‘æ§",
    "file_path": "techContext.md",
    "start_pos": 233,
    "end_pos": 367,
    "section": "å·¥å…·åº“",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "- **æ“ä½œç³»ç»Ÿ**ï¼šè·¨å¹³å°å…¼å®¹ï¼ˆWindows, Linux, MacOSï¼‰\n- **IDE**ï¼šVS Code é…åˆ Python æ‰©å±•\n- **ç¯å¢ƒç®¡ç†**ï¼š\n  - Pythonè™šæ‹Ÿç¯å¢ƒï¼ˆvenvï¼‰\n  - ä¾èµ–ç®¡ç†ä½¿ç”¨pip/uv\n- **ç‰ˆæœ¬æ§åˆ¶**ï¼šGit é…åˆ GitHub Actions\n- **æµ‹è¯•æ¡†æ¶**ï¼špytest è‡ªåŠ¨åŒ–æµ‹è¯•",
    "file_path": "techContext.md",
    "start_pos": 477,
    "end_pos": 657,
    "section": "å¼€å‘ç¯å¢ƒ",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "```\nlz4==4.4.4\nsentence-transformers==4.1.0\npydantic>=2.3.0\naiohttp>=3.9.0\npython-dotenv>=1.0.0\nujson>=5.6.0\ncryptography>=39.0.0\n```",
    "file_path": "techContext.md",
    "start_pos": 917,
    "end_pos": 1053,
    "section": "æ ¸å¿ƒä¾èµ–",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "```\nmemory_manager.py\nâ”œâ”€â”€ memory_index.py\nâ”‚   â””â”€â”€ sentence_transformers\nâ”œâ”€â”€ memory_sync.py\nâ”‚   â””â”€â”€ lz4\nâ””â”€â”€ token_tracker.py\n\nllm_api.py\nâ”œâ”€â”€ openai\nâ”œâ”€â”€ anthropic\nâ””â”€â”€ deepseek\n\nagent_monitor.py\nâ”œâ”€â”€ prometheus_client\nâ””â”€â”€ aiohttp\n```\n\n*æœ€åæ›´æ–°: 2025-05-08 12:29:51*",
    "file_path": "techContext.md",
    "start_pos": 1252,
    "end_pos": 1512,
    "section": "å·¥å…·ä¾èµ–å…³ç³»å›¾",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "å½“å‰æ­£åœ¨è¿›è¡Œå¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶çš„åˆå§‹åŒ–å’ŒåŸºç¡€è®¾æ–½æ­å»ºå·¥ä½œï¼Œä¸»è¦åŒ…æ‹¬ï¼š\n1. è®°å¿†é“¶è¡Œç³»ç»Ÿçš„å®ç°å’Œåˆå§‹é…ç½®\n2. åŸºæœ¬æ–‡æ¡£ç»“æ„çš„å»ºç«‹å’Œå†…å®¹å¡«å……\n3. æ™ºèƒ½ä½“è§’è‰²å®šä¹‰å’ŒèŒè´£åˆ’åˆ†\n4. é€šä¿¡åè®®çš„è®¾è®¡å’Œå®ç°\n5. æ ¸å¿ƒå·¥å…·é“¾çš„é›†æˆå’Œæµ‹è¯•\n\né‡ç‚¹å…³æ³¨è®°å¿†ç®¡ç†ç³»ç»Ÿçš„å®ç°ï¼Œç¡®ä¿ä¸‰ç»´è®°å¿†æ‹“æ‰‘èƒ½å¤Ÿæœ‰æ•ˆè¿è¡Œï¼Œæ”¯æŒæ™ºèƒ½ä½“é—´çš„çŸ¥è¯†å…±äº«å’Œé•¿æœŸè®°å¿†ä¿æŒã€‚",
    "file_path": "activeContext.md",
    "start_pos": 20,
    "end_pos": 187,
    "section": "å½“å‰å·¥ä½œé‡ç‚¹",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "1. **2025-05-08**ï¼šåˆå§‹åŒ–é¡¹ç›®è®°å¿†é“¶è¡Œ\n   - åˆ›å»ºæ ¸å¿ƒæ–‡æ¡£ç»“æ„\n   - å®ç°è®°å¿†åŒæ­¥æœºåˆ¶\n   - è®¾ç½®ç‰ˆæœ¬å¿«ç…§ç³»ç»Ÿ\n\n2. **2025-05-08**ï¼šå®Œå–„è®°å¿†é“¶è¡Œæ–‡æ¡£\n   - æ›´æ–°äº§å“ä¸Šä¸‹æ–‡æ–‡æ¡£\n   - å®Œå–„ç³»ç»Ÿæ¶æ„ä¸æ¨¡å¼æ–‡æ¡£\n   - æ›´æ–°æŠ€æœ¯ä¸Šä¸‹æ–‡æ–‡æ¡£\n\n3. **2025-05-08**ï¼šå®‰è£…æ ¸å¿ƒä¾èµ–\n   - å®‰è£…LZ4å‹ç¼©åº“\n   - å®‰è£…Sentence Transformersåº“",
    "file_path": "activeContext.md",
    "start_pos": 194,
    "end_pos": 411,
    "section": "æœ€è¿‘å˜æ›´",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "1. **è¿‘æœŸä»»åŠ¡** (1-3å¤©)\n   - å®Œæˆè®°å¿†ç´¢å¼•ç³»ç»Ÿå®ç°\n   - å¼€å‘æ™ºèƒ½ä½“ç›‘æ§å·¥å…·\n   - å®ç°åŸºç¡€é€šä¿¡å±‚\n   - ç¼–å†™å•å…ƒæµ‹è¯•\n\n2. **ä¸­æœŸç›®æ ‡** (1-2å‘¨)\n   - å®ç°Planneræ™ºèƒ½ä½“åŠŸèƒ½\n   - å®ç°Executoræ™ºèƒ½ä½“åŠŸèƒ½\n   - å¼€å‘é”™è¯¯å¤„ç†å’Œè‡ªæ„ˆæœºåˆ¶\n   - æ•´åˆLLMé€‰æ‹©çŸ©é˜µ\n\n3. **é•¿æœŸè§„åˆ’** (1ä¸ªæœˆ)\n   - å®Œå–„è‡ªè¿›åŒ–æœºåˆ¶\n   - æå‡ç³»ç»Ÿæ€§èƒ½å’Œå¯é æ€§\n   - å¼€å‘æ›´ä¸°å¯Œçš„å·¥å…·é›†\n   - å®æ–½ç»¼åˆæ€§èƒ½æµ‹è¯•",
    "file_path": "activeContext.md",
    "start_pos": 419,
    "end_pos": 666,
    "section": "ä¸‹ä¸€æ­¥è®¡åˆ’",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "1. **æŠ€æœ¯é€‰å‹å†³ç­–**\n   - æ­£åœ¨è¯„ä¼°ä¸åŒçš„å‘é‡æ•°æ®åº“è§£å†³æ–¹æ¡ˆï¼Œè€ƒè™‘FAISSã€Chromaå’ŒMilvus\n   - æ¢ç´¢æ˜¯å¦éœ€è¦å¼•å…¥ä¸“é—¨çš„æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œæˆ–ä½¿ç”¨è½»é‡çº§è§£å†³æ–¹æ¡ˆ\n   - è€ƒè™‘æ˜¯å¦ä¸ºè‡ªå®šä¹‰å·¥å…·å¼€å‘ç»Ÿä¸€çš„æ’ä»¶æ¶æ„\n\n2. **æ¶æ„å†³ç­–**\n   - è®¨è®ºæ˜¯å¦é‡‡ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„è¿›ä¸€æ­¥é™ä½ç»„ä»¶è€¦åˆåº¦\n   - è¯„ä¼°æ˜¯å¦éœ€è¦å¼•å…¥é¢å¤–çš„æ™ºèƒ½ä½“è§’è‰²ï¼ˆå¦‚Criticã€Explorerï¼‰\n   - è€ƒè™‘è®°å¿†åˆ†ç‰‡ç­–ç•¥ï¼Œä¼˜åŒ–å¤§è§„æ¨¡çŸ¥è¯†ç®¡ç†\n\n3. **å¼€å‘æµç¨‹**\n   - åˆ¶å®šæµ‹è¯•é©±åŠ¨å¼€å‘æµç¨‹\n   - å»ºç«‹æŒç»­é›†æˆå’Œéƒ¨ç½²æµç¨‹\n   - è®¾è®¡æ€§èƒ½åŸºå‡†æµ‹è¯•æ¡†æ¶\n\n*æœ€åæ›´æ–°: 2025-05-08 12:37:11*",
    "file_path": "activeContext.md",
    "start_pos": 673,
    "end_pos": 987,
    "section": "æ´»åŠ¨å†³ç­–",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "- [x] é¡¹ç›®è®°å¿†é“¶è¡Œåˆå§‹åŒ–\n  - [x] åˆ›å»ºæ ¸å¿ƒæ–‡æ¡£ç»“æ„\n  - [x] é…ç½®è®°å¿†åŒæ­¥æœºåˆ¶\n  - [x] è®¾ç½®ç‰ˆæœ¬å¿«ç…§ç®¡ç†\n- [x] åŸºç¡€ä¾èµ–å®‰è£…\n  - [x] å®‰è£…LZ4å‹ç¼©åº“\n  - [x] å®‰è£…Sentence Transformersåº“\n- [x] è®°å¿†é“¶è¡Œæ–‡æ¡£å®Œå–„\n  - [x] æ›´æ–°äº§å“ä¸Šä¸‹æ–‡æ–‡æ¡£\n  - [x] å®Œå–„ç³»ç»Ÿæ¶æ„ä¸æ¨¡å¼æ–‡æ¡£\n  - [x] æ›´æ–°æŠ€æœ¯ä¸Šä¸‹æ–‡æ–‡æ¡£\n  - [x] æ›´æ–°å½“å‰å·¥ä½œä¸Šä¸‹æ–‡",
    "file_path": "progress.md",
    "start_pos": 16,
    "end_pos": 237,
    "section": "å·²å®Œæˆå·¥ä½œ",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "- [ ] è®°å¿†ç®¡ç†ç³»ç»Ÿå¼€å‘ (è¿›åº¦ï¼š30%)\n  - [x] è®°å¿†åŒæ­¥æ¨¡å—\n  - [ ] è®°å¿†ç´¢å¼•æ¨¡å—\n  - [ ] è®°å¿†æ£€ç´¢æ¨¡å—\n- [ ] æ™ºèƒ½ä½“è§’è‰²å®ç° (è¿›åº¦ï¼š10%)\n  - [ ] Plannerè§’è‰²è®¾è®¡\n  - [ ] Executorè§’è‰²è®¾è®¡\n- [ ] é€šä¿¡åè®®å¼€å‘ (è¿›åº¦ï¼š5%)\n  - [ ] æ¶ˆæ¯æ ¼å¼å®šä¹‰\n  - [ ] å¯é æ€§ä¿éšœæœºåˆ¶\n- [ ] å·¥å…·é›†æˆ (è¿›åº¦ï¼š15%)\n  - [x] LLM APIé›†æˆ\n  - [ ] ç¯å¢ƒæ„ŸçŸ¥å·¥å…·\n  - [ ] ç›‘æ§ç³»ç»Ÿ",
    "file_path": "progress.md",
    "start_pos": 244,
    "end_pos": 497,
    "section": "æ­£åœ¨è¿›è¡Œ",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "- [ ] å®ç°è®°å¿†ç´¢å¼•ç³»ç»Ÿ\n- [ ] å¼€å‘æ™ºèƒ½ä½“ç›‘æ§å·¥å…·\n- [ ] å®ç°åŸºç¡€é€šä¿¡å±‚\n- [ ] ç¼–å†™å•å…ƒæµ‹è¯•\n- [ ] å¼€å‘Planneræ™ºèƒ½ä½“\n- [ ] å¼€å‘Executoræ™ºèƒ½ä½“\n- [ ] å®ç°é”™è¯¯å¤„ç†æœºåˆ¶\n- [ ] å¼€å‘LLMé€‰æ‹©çŸ©é˜µ\n- [ ] å®ç°è‡ªè¿›åŒ–æœºåˆ¶\n- [ ] é›†æˆæ€§èƒ½ç›‘æ§ç³»ç»Ÿ\n- [ ] å¼€å‘ç»¼åˆæµ‹è¯•å¥—ä»¶",
    "file_path": "progress.md",
    "start_pos": 504,
    "end_pos": 678,
    "section": "å¾…åŠäº‹é¡¹",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "1. **å¾…è§£å†³**ï¼šéœ€è¦ç¡®å®šåˆé€‚çš„å‘é‡æ•°æ®åº“æ–¹æ¡ˆ\n   - å½±å“ï¼šè®°å¿†ç´¢å¼•ç³»ç»Ÿçš„å®ç°\n   - ä¼˜å…ˆçº§ï¼šé«˜\n   - è®¡åˆ’ï¼šè¯„ä¼°FAISSã€Chromaå’ŒMilvusï¼Œ1-3å¤©å†…ç¡®å®š\n\n2. **å¾…è§£å†³**ï¼šé€šä¿¡åè®®çš„å¯é æ€§æœºåˆ¶è®¾è®¡\n   - å½±å“ï¼šæ™ºèƒ½ä½“é—´åä½œæ•ˆç‡\n   - ä¼˜å…ˆçº§ï¼šä¸­\n   - è®¡åˆ’ï¼šç ”ç©¶ç°æœ‰æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œè¯„ä¼°é€‚ç”¨æ€§\n\n3. **å¾…è§‚å¯Ÿ**ï¼šSentence Transformersæ¨¡å‹æ€§èƒ½\n   - å½±å“ï¼šè®°å¿†æ£€ç´¢æ•ˆç‡\n   - ä¼˜å…ˆçº§ï¼šä¸­\n   - è®¡åˆ’ï¼šè¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œå¿…è¦æ—¶è€ƒè™‘è½»é‡çº§æ›¿ä»£æ–¹æ¡ˆ\n\n*æœ€åæ›´æ–°: 2025-05-08 12:43:19*",
    "file_path": "progress.md",
    "start_pos": 685,
    "end_pos": 978,
    "section": "å·²çŸ¥é—®é¢˜",
    "last_updated": "2025-05-08T12:15:49.629064"
  },
  {
    "content": "åˆ›å»ºè®°å¿†é“¶è¡Œæ–‡ä»¶ã€‚\n\nå‚æ•°:\n- `file_name`: è¦åˆ›å»ºçš„æ–‡ä»¶å\n- `template`: æ–‡ä»¶æ¨¡æ¿ï¼Œå¦‚æœä¸ºNoneåˆ™ä½¿ç”¨é»˜è®¤æ¨¡æ¿\n- `overwrite`: æ˜¯å¦è¦†ç›–ç°æœ‰æ–‡ä»¶\n\nè¿”å›:\n- åˆ›å»ºæ˜¯å¦æˆåŠŸ",
    "file_path": "extensions/api_docs.md",
    "start_pos": 482,
    "end_pos": 594,
    "section": "`create_memory_file(file_name: str, template: Optional[str] = None, overwrite: bool = False) -> bool`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "æ›´æ–°è®°å¿†é“¶è¡Œæ–‡ä»¶ã€‚\n\nå‚æ•°:\n- `file_name`: è¦æ›´æ–°çš„æ–‡ä»¶å\n- `content`: æ–°çš„æ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸ºNoneåˆ™ä»æ ‡å‡†è¾“å…¥è¯»å–\n- `append`: æ˜¯å¦è¿½åŠ åˆ°ç°æœ‰å†…å®¹\n\nè¿”å›:\n- æ›´æ–°æ˜¯å¦æˆåŠŸ",
    "file_path": "extensions/api_docs.md",
    "start_pos": 696,
    "end_pos": 808,
    "section": "`update_memory_file(file_name: str, content: Optional[str] = None, append: bool = False) -> bool`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "è¡¨ç¤ºè®°å¿†é“¶è¡Œä¸­çš„ä¸€ä¸ªå†…å®¹å—ã€‚\n\nå±æ€§:\n- `content`: å†…å®¹å—çš„æ–‡æœ¬\n- `file_path`: å†…å®¹å—æ‰€åœ¨çš„æ–‡ä»¶è·¯å¾„\n- `start_pos`: å†…å®¹å—åœ¨æ–‡ä»¶ä¸­çš„èµ·å§‹ä½ç½®\n- `end_pos`: å†…å®¹å—åœ¨æ–‡ä»¶ä¸­çš„ç»“æŸä½ç½®\n- `embedding`: å†…å®¹å—çš„åµŒå…¥å‘é‡\n- `section`: å†…å®¹å—æ‰€å±çš„ç« èŠ‚æ ‡é¢˜\n- `last_updated`: å†…å®¹å—çš„æœ€åæ›´æ–°æ—¶é—´",
    "file_path": "extensions/api_docs.md",
    "start_pos": 1973,
    "end_pos": 2172,
    "section": "`class MemoryChunk`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "è®°å¿†é“¶è¡Œç´¢å¼•çš„ä¸»è¦å®ç°ã€‚\n\næ–¹æ³•:\n- `load_model() -> None`: åŠ è½½åµŒå…¥æ¨¡å‹\n- `extract_sections(content: str) -> List[Tuple[str, str, int, int]]`: ä»Markdownå†…å®¹ä¸­æå–ç« èŠ‚\n- `chunk_content(content: str, file_path: str) -> List[MemoryChunk]`: å°†å†…å®¹åˆ†æˆå—\n- `generate_embeddings() -> None`: ä¸ºæ‰€æœ‰å—ç”ŸæˆåµŒå…¥å‘é‡\n- `index_memory_bank(force: bool = False) -> None`: ç´¢å¼•è®°å¿†é“¶è¡Œä¸­çš„æ‰€æœ‰æ–‡ä»¶\n- `search(query: str, top_k: int = 5, threshold: float = 0.5) -> List[Tuple[MemoryChunk, float]]`: è¯­ä¹‰æœç´¢è®°å¿†åº“\n- `exact_search(query: str, case_sensitive: bool = False) -> List[MemoryChunk]`: ç²¾ç¡®æœç´¢è®°å¿†åº“",
    "file_path": "extensions/api_docs.md",
    "start_pos": 2196,
    "end_pos": 2721,
    "section": "`class MemoryIndex`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "python tools/memory_index.py search <query> [--top-k <num_results>] [--threshold <similarity_threshold>] [--exact] [--case-sensitive] [--hide-scores]\n```",
    "file_path": "extensions/api_docs.md",
    "start_pos": 2822,
    "end_pos": 2978,
    "section": "æœç´¢è®°å¿†",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "è®°å¿†é“¶è¡ŒåŒæ­¥çŠ¶æ€çš„å®ç°ã€‚\n\nå±æ€§:\n- `file_hashes`: æ–‡ä»¶å“ˆå¸Œå€¼å­—å…¸\n- `last_sync`: ä¸Šæ¬¡åŒæ­¥æ—¶é—´\n- `last_version`: ä¸Šæ¬¡ç‰ˆæœ¬\n- `sync_count`: åŒæ­¥è®¡æ•°\n\næ–¹æ³•:\n- `load() -> bool`: ä»æ–‡ä»¶åŠ è½½åŒæ­¥çŠ¶æ€\n- `save() -> bool`: ä¿å­˜åŒæ­¥çŠ¶æ€åˆ°æ–‡ä»¶",
    "file_path": "extensions/api_docs.md",
    "start_pos": 3087,
    "end_pos": 3263,
    "section": "`class SyncState`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "è®°å¿†é“¶è¡ŒåŒæ­¥å™¨çš„ä¸»è¦å®ç°ã€‚\n\næ–¹æ³•:\n- `_get_changed_files() -> Dict[str, str]`: è·å–å·²æ›´æ”¹çš„æ–‡ä»¶åŠå…¶å“ˆå¸Œå€¼\n- `_compress_file(source_path: Path, target_path: Path) -> bool`: ä½¿ç”¨LZ4å‹ç¼©æ–‡ä»¶\n- `_decompress_file(source_path: Path, target_path: Path) -> bool`: ä½¿ç”¨LZ4è§£å‹ç¼©æ–‡ä»¶\n- `_create_version(timestamp: str = None) -> str`: åˆ›å»ºè®°å¿†åº“çš„ç‰ˆæœ¬å¿«ç…§\n- `_restore_version(version: str) -> bool`: ä»ç‰ˆæœ¬å¿«ç…§æ¢å¤è®°å¿†åº“\n- `_check_consistency() -> Dict[str, str]`: æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§\n- `sync(force: bool = False) -> bool`: æ‰§è¡ŒåŒæ­¥æ“ä½œ\n- `start_auto_sync() -> None`: å¯åŠ¨è‡ªåŠ¨åŒæ­¥çº¿ç¨‹\n- `stop_auto_sync() -> None`: åœæ­¢è‡ªåŠ¨åŒæ­¥çº¿ç¨‹\n- `list_versions() -> List[Dict]`: åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬",
    "file_path": "extensions/api_docs.md",
    "start_pos": 3288,
    "end_pos": 3858,
    "section": "`class MemorySyncer`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "python tools/memory_sync.py version --list\npython tools/memory_sync.py version --create [--no-compress]\npython tools/memory_sync.py version --restore <version>\n```",
    "file_path": "extensions/api_docs.md",
    "start_pos": 4103,
    "end_pos": 4269,
    "section": "ç‰ˆæœ¬ç®¡ç†",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "åˆ›å»ºLLMå®¢æˆ·ç«¯ã€‚\n\nå‚æ•°:\n- `provider`: LLMæä¾›å•†ï¼Œæ”¯æŒOpenAIã€Anthropicã€Geminiã€DeepSeekã€SiliconFlowã€OpenRouterç­‰\n\nè¿”å›:\n- LLMå®¢æˆ·ç«¯å¯¹è±¡",
    "file_path": "extensions/api_docs.md",
    "start_pos": 4592,
    "end_pos": 4705,
    "section": "`create_llm_client(provider=\"openai\") -> Any`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "æŸ¥è¯¢LLMå¹¶è·å–å“åº”ã€‚\n\nå‚æ•°:\n- `prompt`: æç¤ºæ–‡æœ¬\n- `client`: LLMå®¢æˆ·ç«¯å¯¹è±¡ï¼Œå¦‚æœä¸ºNoneåˆ™è‡ªåŠ¨åˆ›å»º\n- `model`: æ¨¡å‹åç§°ï¼Œå¦‚æœä¸ºNoneåˆ™ä½¿ç”¨é»˜è®¤æ¨¡å‹\n- `provider`: LLMæä¾›å•†\n- `image_path`: å¯é€‰çš„å›¾åƒæ–‡ä»¶è·¯å¾„\n\nè¿”å›:\n- LLMçš„å“åº”æ–‡æœ¬",
    "file_path": "extensions/api_docs.md",
    "start_pos": 4819,
    "end_pos": 4983,
    "section": "`query_llm(prompt: str, client=None, model=None, provider=\"openai\", image_path: Optional[str] = None) -> str`",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "```bash\npython tools/llm_api.py --prompt \"æç¤ºæ–‡æœ¬\" [--provider <provider>] [--model <model>] [--image <image_path>]\n```",
    "file_path": "extensions/api_docs.md",
    "start_pos": 4992,
    "end_pos": 5112,
    "section": "å‘½ä»¤è¡Œæ¥å£",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "```python\nfrom tools.memory_manager import initialize_memory_bank, create_memory_file, update_memory_file, read_memory",
    "file_path": "extensions/api_docs.md",
    "start_pos": 5135,
    "end_pos": 5257,
    "section": "åŸºæœ¬è®°å¿†ç®¡ç†æµç¨‹",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "results = memory_index.search(\"æ™ºèƒ½ä½“é€šä¿¡åè®®\", top_k=3)\nrelevant_content = \"\\n\".join([chunk.content for chunk, score in results])",
    "file_path": "extensions/api_docs.md",
    "start_pos": 5702,
    "end_pos": 5828,
    "section": "æœç´¢è®°å¿†",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "prompt = f\"åŸºäºä»¥ä¸‹ç›¸å…³å†…å®¹ï¼Œå›ç­”é—®é¢˜ï¼šæ™ºèƒ½ä½“å¦‚ä½•é€šä¿¡ï¼Ÿ\\n\\n{relevant_content}\"\nresponse = query_llm(prompt, provider=\"anthropic\")\nprint(response)\n```",
    "file_path": "extensions/api_docs.md",
    "start_pos": 5841,
    "end_pos": 5971,
    "section": "å°†æ£€ç´¢ç»“æœä¸LLMé›†æˆ",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "versions = syncer.list_versions()\nfor v in versions:\n    print(f\"ç‰ˆæœ¬: {v['version']}, æ—¶é—´: {v['timestamp']}, æ–‡ä»¶æ•°: {v['file_count']}\")\n```\n\n*æœ€åæ›´æ–°: 2025-05-08 12:56:34*",
    "file_path": "extensions/api_docs.md",
    "start_pos": 6200,
    "end_pos": 6366,
    "section": "åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "- æ“ä½œç³»ç»Ÿï¼šæ”¯æŒWindows 10+ã€macOS 10.15+ã€Ubuntu 20.04+\n- Pythonç‰ˆæœ¬ï¼šPython 3.10æˆ–æ›´é«˜ç‰ˆæœ¬\n- å­˜å‚¨ç©ºé—´ï¼šè‡³å°‘1GBå¯ç”¨ç£ç›˜ç©ºé—´\n- å†…å­˜ï¼šè‡³å°‘4GB RAMï¼ˆæ¨è8GBæˆ–ä»¥ä¸Šï¼‰\n- ç½‘ç»œï¼šç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼ˆéœ€è®¿é—®LLM APIï¼‰",
    "file_path": "extensions/deployment.md",
    "start_pos": 31,
    "end_pos": 179,
    "section": "ç³»ç»Ÿè¦æ±‚",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "- PythonåŸºç¡€åº“ï¼šnumpy, scipy, matplotlib\n- åµŒå…¥æ¨¡å‹ï¼šsentence-transformers\n- å‹ç¼©åº“ï¼šlz4\n- çŸ¢é‡æ•°æ®åº“ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š\n  - FAISSï¼ˆæœ¬åœ°éƒ¨ç½²ï¼‰\n  - Chromaï¼ˆæ”¯æŒæœ¬åœ°æˆ–è¿œç¨‹ï¼‰",
    "file_path": "extensions/deployment.md",
    "start_pos": 187,
    "end_pos": 315,
    "section": "ä¾èµ–è¦æ±‚",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "OPENAI_API_KEY=your_openai_api_key\nANTHROPIC_API_KEY=your_anthropic_api_key\nDEEPSEEK_API_KEY=your_deepseek_api_key",
    "file_path": "extensions/deployment.md",
    "start_pos": 758,
    "end_pos": 875,
    "section": "LLM APIå¯†é’¥",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "MEMORY_BANK_DIR=memory-bank\nVECTOR_DB_TYPE=faiss  # æˆ– chroma\nVECTOR_DB_PATH=memory-bank/vector_db\n```",
    "file_path": "extensions/deployment.md",
    "start_pos": 882,
    "end_pos": 986,
    "section": "è®°å¿†åº“é…ç½®",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "1. **ç´¢å¼•åˆ›å»ºå¤±è´¥**\n   - æ£€æŸ¥æ˜¯å¦å®‰è£…äº†sentence-transformersåº“\n   - éªŒè¯è®°å¿†é“¶è¡Œç›®å½•æ˜¯å¦å­˜åœ¨å¹¶æœ‰è®¿é—®æƒé™\n   - æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³\n\n2. **è®°å¿†åŒæ­¥é”™è¯¯**\n   - æ£€æŸ¥æ–‡ä»¶å†™å…¥æƒé™\n   - éªŒè¯LZ4æ˜¯å¦æ­£ç¡®å®‰è£…\n   - æ£€æŸ¥ç‰ˆæœ¬ç›®å½•æ˜¯å¦æœ‰è®¿é—®æƒé™\n\n3. **è®°å¿†æ£€ç´¢è¿”å›ä¸ç›¸å…³ç»“æœ**\n   - å°è¯•è°ƒæ•´é˜ˆå€¼å‚æ•°ï¼ˆ--thresholdï¼‰\n   - è€ƒè™‘é‡å»ºç´¢å¼•ï¼ˆ--forceå‚æ•°ï¼‰\n   - ç¡®è®¤ä½¿ç”¨çš„æ˜¯é€‚å½“çš„è¯­è¨€æ¨¡å‹",
    "file_path": "extensions/deployment.md",
    "start_pos": 2212,
    "end_pos": 2458,
    "section": "å¸¸è§é—®é¢˜",
    "last_updated": "2025-05-08T12:15:49.630064"
  },
  {
    "content": "1. **å®šæœŸåŒæ­¥**\n   - å»ºè®®è®¾ç½®è‡ªåŠ¨åŒæ­¥ï¼Œé—´éš”ä¸è¶…è¿‡30åˆ†é’Ÿ\n   - åœ¨é‡è¦æ›´æ”¹åæ‰‹åŠ¨æ‰§è¡ŒåŒæ­¥\n\n2. **ç‰ˆæœ¬ç®¡ç†**\n   - åœ¨é‡å¤§æ›´æ”¹å‰åˆ›å»ºç‰ˆæœ¬å¿«ç…§\n   - ä¿ç•™è‡³å°‘3ä¸ªæœ€è¿‘ç‰ˆæœ¬ä»¥ä¾¿å›é€€\n\n3. **è®°å¿†ç»„ç»‡**\n   - å°†ç›¸å…³ä¿¡æ¯åˆ†ç»„åˆ°åŒä¸€æ–‡ä»¶ä¸­\n   - ä½¿ç”¨æ¸…æ™°çš„ç« èŠ‚ç»“æ„å’Œæ ‡é¢˜\n   - å¯¹æ ¸å¿ƒæ¦‚å¿µä½¿ç”¨ä¸€è‡´çš„æœ¯è¯­\n\n4. **æ€§èƒ½ä¼˜åŒ–**\n   - å¯¹å¤§å‹è®°å¿†åº“è€ƒè™‘ä½¿ç”¨FAISSç´¢å¼•\n   - å®šæœŸæ¸…ç†ä¸å†éœ€è¦çš„æ—§ç‰ˆæœ¬\n   - ç›‘æ§å‘é‡æ•°æ®åº“å¤§å°ï¼Œå¿…è¦æ—¶è¿›è¡Œå‹ç¼©\n\n5. **å®‰å…¨è€ƒè™‘**\n   - ä¸è¦åœ¨è®°å¿†æ–‡ä»¶ä¸­å­˜å‚¨æ•æ„Ÿå‡­æ®\n   - é™åˆ¶è®°å¿†åº“è®¿é—®æƒé™\n   - å®šæœŸå¤‡ä»½é‡è¦è®°å¿†æ•°æ®\n\n*æœ€åæ›´æ–°: 2025-05-08 12:49:57*",
    "file_path": "extensions/deployment.md",
    "start_pos": 2549,
    "end_pos": 2894,
    "section": "æœ€ä½³å®è·µ",
    "last_updated": "2025-05-08T12:15:49.630064"
  }
]