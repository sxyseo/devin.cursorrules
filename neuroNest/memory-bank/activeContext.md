# NeuroNest 当前工作上下文

## 当前工作重点

我们目前处于NeuroNest项目的初始设计和规划阶段。主要工作重点是：

1. **项目结构搭建**：设计符合SwiftUI最佳实践的项目架构
2. **核心功能规划**：明确三大核心功能的技术实现路径
3. **UI/UX设计**：设计直观、美观的用户界面
4. **MVP功能规划**：确定2周内可完成的最小可行产品范围

## 最近变更

由于项目刚刚启动，尚无重大变更。目前已完成：

1. **项目初始化**：在Xcode 16中创建了基础项目结构
2. **需求文档**：完成了项目核心功能规划文档
3. **技术选型**：确定使用Swift 6 + SwiftUI作为主要技术栈

## 下一步

根据项目优先级路线图，我们计划在接下来2周内完成MVP版本，包括：

1. **环境噪音分类**：
   - 实现基础麦克风音频捕获
   - 开发简单的噪音分类算法

2. **基础双耳节拍生成**：
   - 实现可调节频率的双耳节拍音频生成
   - 开发简单的音频混合功能

3. **固定番茄钟**：
   - 实现25分钟固定时长的专注计时器
   - 添加基础的休息时间提醒

4. **预设声景**：
   - 开发3种基础声景（咖啡厅/森林/白噪音）
   - 实现声景切换功能

## 活跃决策与考虑

目前团队正在考虑以下关键决策：

1. **音频处理架构**：
   - 选项A：使用AVAudioEngine构建完整音频处理管道
   - 选项B：集成第三方AudioKit简化开发
   - 考虑因素：性能开销、开发速度、功能完整性
   - 当前倾向：选项A，以确保更好的性能控制

2. **噪音分类方法**：
   - 选项A：完全自定义CoreML模型
   - 选项B：使用预训练模型微调
   - 考虑因素：识别准确率、模型大小、训练复杂度
   - 当前倾向：选项B，以加速初期开发

3. **用户界面设计**：
   - 选项A：极简风格，专注功能
   - 选项B：沉浸式设计，强调视觉反馈
   - 考虑因素：用户体验、开发复杂度、性能影响
   - 当前倾向：选项A，MVP阶段保持简洁

4. **数据存储策略**：
   - 选项A：完全本地存储
   - 选项B：部分云同步功能
   - 考虑因素：用户隐私、跨设备体验、开发复杂度
   - 当前倾向：选项A，优先确保本地功能完整

## 当前阻碍

1. **音频处理延迟**：需要研究如何在iOS上实现低延迟音频处理
2. **模型大小优化**：需要将CNN模型压缩到<5MB以确保良好性能
3. **电池消耗问题**：需要设计策略降低长时间音频处理的能耗

## 已确认决策

1. 使用MVVM架构模式组织代码
2. 采用Swift Package Manager管理依赖
3. 目标兼容iOS 18及以上版本
4. 优先开发iOS版本，后续考虑Android 